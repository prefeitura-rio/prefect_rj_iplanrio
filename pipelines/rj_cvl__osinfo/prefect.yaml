name: rj_cvl__osinfo
prefect-version: 3.4.3

build:
  - prefect.deployments.steps.run_shell_script:
      id: get-commit-hash
      script: git rev-parse --short HEAD
      stream_output: false
  - prefect_docker.deployments.steps.build_docker_image:
      id: build-image
      requires: prefect-docker>=0.6.5
      image_name: ghcr.io/prefeitura-rio/prefect_rj_iplanrio/deployments
      tag: "rj_cvl__osinfo-{{ get-commit-hash.stdout }}"
      dockerfile: pipelines/rj_cvl__osinfo/Dockerfile

push:
  - prefect_docker.deployments.steps.push_docker_image:
      requires: prefect-docker>=0.6.5
      image_name: "{{ build-image.image_name }}"
      tag: "{{ build-image.tag }}"

pull:
  - prefect.deployments.steps.set_working_directory:
      directory: /opt/prefect/prefect_rj_iplanrio

deployments:
  - name: rj-cvl--osinfo--prod
    version: "{{ get-commit-hash.stdout }}"
    entrypoint: pipelines/rj_cvl__osinfo/flow.py:rj_cvl__osinfo
    work_pool:
      name: datario-pool
      work_queue_name: default
      job_variables:
        image: "{{ build-image.image_name }}:{{ build-image.tag }}"
        command: uv run --package rj_cvl__osinfo -- prefect flow-run execute
        secretName: prefect-jobs-secrets
        image_pull_policy: Always
    schedules:
      - interval: 86400
        anchor_date: '2025-07-15T01:00:00'
        timezone: America/Sao_Paulo
        slug: usuario
        parameters:
          table_id: usuario
          dump_mode: overwrite
          execute_query: SELECT `COD_USUARIO`, `COD_UNIDADE`, `LOGIN`, `NOME`, `DATA_CADASTRO`, `DATA_ATUALIZACAO`, `DATA_EXCLUSAO`,
            `EXCLUIDO` as `FLG_EXCLUIDO`, `CARGO` FROM `adm_osinfo`.`usuario`;
      - interval: 86400
        anchor_date: '2025-07-15T01:10:00'
        timezone: America/Sao_Paulo
        slug: administracao_unidade
        parameters:
          table_id: administracao_unidade
          dump_mode: overwrite
          execute_query: SELECT `COD_UNIDADE`, `CNES`, `UNIDADE_FANTASIA` as `NOME_FANTASIA`, `SIGLA_TIPO`, `SIGLA_PERFIL`, `SIGLA_GESTAO`,
            `SIGLA_TIPO_GESTAO`, `RAZAO_SOCIAL`, `NOME_FANTA_ORIG` as `NOME_FANTASIA_ORIGINAL`, `UNIDADE_ABREVIADO`, `SIGLA`, `CNPJ`,
            `ENDERECO`, `ENDERECO_NUMERO` as `NUMERO`, `ENDERECO_COMPLEMENTO` as `COMPLEMENTO`, `BAIRRO`, `MUNICIPIO`, `CODMUNGEST`
            as `COD_MUNICIPIO`, `UF`, `CEP`, `REFERENCIA`, `TEL_DDD` as `TELELEFONE_DDD`, `TEL_1` as `TELEFONE_1`, `TEL_1_RAMAL`
            as `TELEFONE_1_RAMAL`, `TEL_2` as `TELEFONE_2`, `TEL_2_RAMAL` as `TELEFONE_2_RAMAL`, `FAX`, `TEL_SMS_CONSULTA` as `TELEFONE_SMS_CONSULTA`,
            `TEL_SMS_EXAME` as `TELEFONE_SMS_EXAME`, `EMAIL`, `DT_ULTIMA_ATUALIZ` as `DATA_ULTIMA_ATUALIZACAO`, `DATA_AVALIACAO_CONTADORES`
            as `DATA_AVALIACAO` FROM `adm_osinfo`.`adm_unidade`;
      - interval: 86400
        anchor_date: '2025-07-15T01:20:00'
        timezone: America/Sao_Paulo
        slug: usuario_sistema
        parameters:
          table_id: usuario_sistema
          dump_mode: overwrite
          execute_query: SELECT `ID_USUARIO_SISTEMA`, `COD_USUARIO`, `ID_SISTEMA`, `ID_PERFIL`, `DT_INICIAL` as DATA_INICIAL, `DT_FINAL`
            as DATA_FINAL FROM `adm_osinfo`.`usuario_sistema`;
      - interval: 86400
        anchor_date: '2025-07-15T01:30:00'
        timezone: America/Sao_Paulo
        slug: administracao_perfil
        parameters:
          table_id: administracao_perfil
          dump_mode: overwrite
          execute_query: SELECT `ID_PERFIL`, `NOME_PERFIL` FROM `adm_osinfo`.`adm_perfil`;
      - interval: 86400
        anchor_date: '2025-07-15T01:40:00'
        timezone: America/Sao_Paulo
        slug: administracao_unidade_perfil
        parameters:
          table_id: administracao_unidade_perfil
          dump_mode: overwrite
          execute_query: SELECT `ID_UNID_PERFIL` as `ID_UNIDADE_PERFIL`, `ID_USUARIO`, `COD_UNIDADE`, `ID_PERFIL` FROM `adm_osinfo`.`adm_unid_perfil`;
      - interval: 86400
        anchor_date: '2025-07-15T01:50:00'
        timezone: America/Sao_Paulo
        slug: tipo_documento
        parameters:
          table_id: tipo_documento
          dump_mode: overwrite
          execute_query: SELECT `ID_TIPO_DOCUMENTO`, `COD_TIPO_DOCUMENTO` as  `TIPO_DOCUMENTO`, `TIPO_DOCUMENTO` as `DOCUMENTO`
            FROM `osinfo`.`tipo_documento`;
      - interval: 86400
        anchor_date: '2025-07-15T02:00:00'
        timezone: America/Sao_Paulo
        slug: despesa
        parameters:
          table_id: despesa
          dump_mode: overwrite
          execute_query: SELECT `ID_DOCUMENTO`, `COD_OS` as `COD_ORGANIZACAO`, `COD_UNIDADE`, `DATA_ENVIO`, `ID_TIPO_DOCUMENTO`,
            `CODIGO_FISCAL`, `CNPJ`, `RAZAO`, `CPF`, `NOME`, `NUM_DOCUMENTO`, `SERIE`, `DESCRICAO`, `DATA_EMISSAO`, `DATA_VENCIMENTO`,
            `DATA_PAGAMENTO`, `DATA_APURACAO`, `VALOR_DOCUMENTO`, `VALOR_PAGO`, `ID_DESPESA`, `ID_RUBRICA`, `ID_CONTRATO`, `ID_CONTA_BANCARIA`,
            `REF_MES` as `REFERENCIA_MES`, `REF_ANO` as `REFERENCIA_ANO`, `COD_BANCARIO`, `flg_justificativa` as `FLG_JUSTIFICATIVA`,
            `PMT_MES` as `PARCELAMENTO_MES`, `PMT_TOTAL` as `PARCELAMENTO_TOTAL`, `ID_IMAGEM`, `nf_validada_sigma` as `NF_VALIDADA_SIGMA`,
            `dt_hora_validacao` as `DATA_VALIDACAO` FROM `osinfo`.`documento`;
      - interval: 86400
        anchor_date: '2025-07-15T02:10:00'
        timezone: America/Sao_Paulo
        slug: contrato
        parameters:
          table_id: contrato
          dump_mode: overwrite
          execute_query: SELECT `ID_CONTRATO`, `NUM_CONTRATO` as `NUMERO_CONTRATO`, `COD_OS` as `COD_ORGANIZACAO`, `DT_ATUALIZACAO`
            as `DATA_ATUALIZACAO`, `DT_ASSINATURA` as `DATA_ASSINATURA`, `PERIODO_VIGENCIA`, `DT_PUBLICACAO` as `DATA_PUBLICACAO`,
            `DT_INICIO` as `DATA_INICIO`, `VLR_TOTAL` as `VALOR_TOTAL`, `VLR_ANO1` as `VALOR_ANO1`, `VLR_PARCELAS` as `VALOR_PARCELAS`,
            `VLR_FIXO` as `VALOR_FIXO`, `VLR_VARIAVEL` as `VALOR_VARIAVEL`, `OBSERVACAO`, `AP`, `ID_SECRETARIA` FROM `osinfo`.`contrato`;
      - interval: 86400
        anchor_date: '2025-07-15T02:20:00'
        timezone: America/Sao_Paulo
        slug: plano_contas
        parameters:
          table_id: plano_contas
          dump_mode: overwrite
          execute_query: SELECT `ID_DESPESA`, `COD_DESPESA`, `DESPESA`, `N1` as `ID_DESPESA_N1`, `N2` as `ID_DESPESA_N2`, `FLG_ATIVO`
            FROM `osinfo`.`despesa`;
      - interval: 86400
        anchor_date: '2025-07-15T02:30:00'
        timezone: America/Sao_Paulo
        slug: rubrica
        parameters:
          table_id: rubrica
          dump_mode: overwrite
          execute_query: SELECT `ID_RUBRICA`, `RUBRICA`, `FLG_ATIVO` FROM `osinfo`.`rubrica`;
      - interval: 86400
        anchor_date: '2025-07-15T02:40:00'
        timezone: America/Sao_Paulo
        slug: secretaria
        parameters:
          table_id: secretaria
          dump_mode: overwrite
          execute_query: SELECT `ID_SECRETARIA`, `NOME_SECRETARIA` as `SECRETARIA`, `SIGLA_SECRETARIA` as `SIGLA`, `NOME_REGIONAL`
            as `REGIONAL`, `SIGLA_REGIONAL`, `COD_SECRETARIA`, `FLG_REGIONAL` FROM `osinfo`.`secretaria`;
      - interval: 86400
        anchor_date: '2025-07-15T02:50:00'
        timezone: America/Sao_Paulo
        slug: contrato_terceiros
        parameters:
          table_id: contrato_terceiros
          dump_mode: overwrite
          execute_query: SELECT `ID_SERV_TER` as `ID_CONTRATO_TERCEIRO`, `COD_OS` as `CODIGO_ORGANIZACAO`, `ID_CONTRATO`, `VALOR_MES`,
            `CONTRATO_MES_INICIO`, `CONTRATO_ANO_INICIO`, `CONTRATO_MES_FIM`, `CONTRATO_ANO_FIM`, `COD_UNIDADE`, `REF_ANO` as `REFERENCIA_ANO_ASS_CONTRATO`,
            `VIGENCIA`, `CNPJ`, `RAZAO_SOCIAL`, `SERVICO`, `REF_MES` as `REFERENCIA_MES_RECEITA`, `ID_IMAGEM` as `FLG_IMAGEM`, `IMAGEM_CONTRATO`
            FROM `osinfo`.`serv_ter`;
      - interval: 86400
        anchor_date: '2025-07-15T03:00:00'
        timezone: America/Sao_Paulo
        slug: receita_dados
        parameters:
          table_id: receita_dados
          dump_mode: overwrite
          execute_query: SELECT `ID_RECEITA_DADOS`, `COD_UNIDADE`, `ID_RECEITA_ITEM` as  `ID_ITEM`, `REF_MES` as `REFERENCIA_MES`,
            `REF_ANO` as `REFERENCIA_ANO`, `VALOR`, `FLG_ATIVO`, `ID_CONTRATO`, `ID_TERMO_ADITIVO`, `ID_CONTA_BANCARIA` FROM `osinfo`.`receita_dados`;
      - interval: 86400
        anchor_date: '2025-07-15T03:10:00'
        timezone: America/Sao_Paulo
        slug: receita_item
        parameters:
          table_id: receita_item
          dump_mode: overwrite
          execute_query: SELECT `ID_RECEITA_ITEM`, `RECEITA_ITEM`, `FLG_ATIVO`, `ORDEM`, `ID_RECEITA_TIPO` FROM `osinfo`.`receita_item`;
      - interval: 86400
        anchor_date: '2025-07-15T03:20:00'
        timezone: America/Sao_Paulo
        slug: saldo_dados
        parameters:
          table_id: saldo_dados
          dump_mode: overwrite
          execute_query: SELECT `ID_SALDO_DADOS`, `ID_SALDO_ITEM`, `REF_MES` as `REFERENCIA_MES_RECEITA`, `REF_ANO` as `REFERENCIA_ANO_RECEITA`,
            `VALOR`, `FLG_ATIVO`, `ID_CONTRATO`, `ID_CONTA_BANCARIA`, `NOME_ARQ_IMG_EXT` as `ARQ_IMG_EXT` FROM `osinfo`.`saldo_dados`;
      - interval: 86400
        anchor_date: '2025-07-15T03:30:00'
        timezone: America/Sao_Paulo
        slug: saldo_item
        parameters:
          table_id: saldo_item
          dump_mode: overwrite
          execute_query: SELECT `ID_SALDO_ITEM`, `SALDO_ITEM`, `FLG_ATIVO`, `ORDEM`, `ID_SALDO_TIPO` FROM `osinfo`.`saldo_item`;
      - interval: 86400
        anchor_date: '2025-07-15T03:40:00'
        timezone: America/Sao_Paulo
        slug: conta_bancaria
        parameters:
          table_id: conta_bancaria
          dump_mode: overwrite
          execute_query: SELECT `ID_CONTA_BANCARIA`, `ID_AGENCIA`, `CODIGO_CC`, `DIGITO_CC`, `FLG_ATIVO`, `COD_OS` as `COD_ORGANIZACAO`,
            `ID_CONTA_BANCARIA_TIPO` as `COD_TIPO` FROM `osinfo`.`conta_bancaria`;
      - interval: 86400
        anchor_date: '2025-07-15T03:50:00'
        timezone: America/Sao_Paulo
        slug: conta_bancaria_tipo
        parameters:
          table_id: conta_bancaria_tipo
          dump_mode: overwrite
          execute_query: SELECT `ID_CONTA_BANCARIA_TIPO`, `TIPO`, `SIGLA` FROM `osinfo`.`conta_bancaria_tipo`;
      - interval: 86400
        anchor_date: '2025-07-15T04:00:00'
        timezone: America/Sao_Paulo
        slug: agencia
        parameters:
          table_id: agencia
          dump_mode: overwrite
          execute_query: SELECT `agencia`.`ID_AGENCIA`, `agencia`.`ID_BANCO`, `agencia`.`CODIGO_AGENCIA` as `NUMERO_AGENCIA`, `agencia`.`DIGITO`,
            `agencia`.`NOME_AGENCIA` as `AGENCIA`, `agencia`.`FLG_ATIVO` FROM `osinfo`.`agencia`;
      - interval: 86400
        anchor_date: '2025-07-15T04:10:00'
        timezone: America/Sao_Paulo
        slug: banco
        parameters:
          table_id: banco
          dump_mode: overwrite
          execute_query: SELECT `ID_BANCO`, `CODIGO_BANCO` as `COD_BANCO`, `NOME_BANCO` as `BANCO`, `NOME_FANTASIA_BANCO` as `NOME_FANTASIA`,
            `FLG_ATIVO` FROM `osinfo`.`banco`;
      - interval: 86400
        anchor_date: '2025-07-15T04:20:00'
        timezone: America/Sao_Paulo
        slug: itens_nota_fiscal
        parameters:
          table_id: itens_nota_fiscal
          dump_mode: overwrite
          execute_query: SELECT `itnf_cd_item_nota_fiscal` as `ID_ITEM_NF`, `itnf_cd_item` as `COD_ITEM_NF`, `itnf_quantidade` as
            `QTD_MATERIAL`, `itnf_valor_unitario` as `VALOR_UNITARIO`, `itnf_ref_mes` as `REFERENCIA_MES_NF`, `itnf_ref_ano` as
            `REFERENCIA_ANO_NF`, `itnf_sq_fornecedor` as `ID_FORNECEDOR`, `itnf_valor_total` as `VALOR_TOTAL`, `itnf_num_documento`
            as `NUM_DOCUMENTO`, `cod_os` as `COD_ORGANIZACAO`, `data_envio` as `DATA_ENVIO`, `itnf_tipo` as `TIPO_ITEM`, `itnf_ds_item`
            as `ITEM`, `itnf_unidade_medida` as `UNIDADE_MEDIDA`, `itnf_observacao` as `OBSERVACAO` FROM `osinfo_V2`.`tb_itens_nota_fiscal`;
      - interval: 86400
        anchor_date: '2025-07-15T04:30:00'
        timezone: America/Sao_Paulo
        slug: fornecedor
        parameters:
          table_id: fornecedor
          dump_mode: overwrite
          execute_query: SELECT `sq_fornecedor` as `ID_FORNECEDOR`, `cd_fornecedor` as `COD_FORNECEDOR`, `ds_fornecedor` as `FORNECEDOR`,
            `in_tipo_pessoa` as `TIPO_PESSOA`, `forn_endereco` as `ENDERECO`, `forn_endereco_numero` as `NUMERO`, `forn_endereco_complemento`
            as `COMPLEMENTO`, `forn_endereco_cep` as `CEP`, `forn_endereco_bairro` as `BAIRRO`, `forn_endereco_municipio` as `MUNICIPIO`,
            `forn_endereco_UF` as `UF`, `forn_endereco_referencia` as `REFERENCIA`, `forn_telefone_1` as `TELEFONE_1`, `forn_telefone_1_ramal`
            as `TELEFONE_1_RAMAL`, `forn_telefone_2` as `TELEFONE_2`, `forn_telefone_2_ramal` as `TELEFONE_2_RAMAL`, `forn_telefone_fax`
            as `TELEFONE_FAX`, `forn_email` as `EMAIL`, `forn_pessoa_contato` as `CONTATO`, `id_imagem` as `ID_IMAGEM`, `id_log_importacao`
            as `ID_LOG_IMPORTACAO`, `cod_os` as `COD_ORGANIZACAO`, `data_envio` as `DATA_ENVIO        DATA_ENVIO` FROM `osinfo_V2`.`si_fornecedor`;
      - interval: 86400
        anchor_date: '2025-07-15T04:40:00'
        timezone: America/Sao_Paulo
        slug: historico_alteracoes
        parameters:
          table_id: historico_alteracoes
          dump_mode: overwrite
          execute_query: SELECT `hial_id_historico_alteracoes` as `ID_HISTORICO_ALTERACOES`, `tipo_arquivo_id` as `ID_TIPO_ARQUIVO`,
            `cod_usuario` as `COD_USUARIO`, `cod_os` as `COD_ORGANIZACAO`, `hial_data_modificacao` as `DATA_MODIFICACAO`, `hial_valor_anterior`
            as `VALOR_ANTERIOR`, `hial_valor_novo` as `VALOR_NOVO`, `hial_mes_ref` as `MES_REFERENCIA`, `hial_ano_ref` as `ANO_REFERENCIA`,
            `hial_id_registro` as `ID_REGISTRO`, `hial_tipo_alteracao` as `TIPO_ALTERACAO` FROM `osinfo_V2`.`tb_historico_alteracoes`;
      - interval: 86400
        anchor_date: '2025-07-15T04:50:00'
        timezone: America/Sao_Paulo
        slug: tipo_arquivo
        parameters:
          table_id: tipo_arquivo
          dump_mode: overwrite
          execute_query: SELECT `tipo_arquivo_id` as `ID_TIPO_ARQUIVO`, `descricao` as `TIPO_SERVICO`, `extensao_arquivo` as `EXTENSAO`,
            `estado` as `FLG_ATIVIDADE` FROM `osinfo_V2`.`tipo_arquivo`;
      - interval: 86400
        anchor_date: '2025-07-15T05:00:00'
        timezone: America/Sao_Paulo
        slug: fechamento
        parameters:
          table_id: fechamento
          dump_mode: overwrite
          execute_query: SELECT `fmto_cd_fechamento` as `ID_FECHAMENTO`, `fmto_mes_referencia` as `MES_REFERENCIA`, `fmto_ano_referencia`
            as `ANO_REFERENCIA`, `fmto_cod_usuario` as `COD_USUARIO`, `fmto_data_inclusao` as `DATA_INCLUSAO`, `fmto_id_contrato`
            as `ID_CONTRATO`, `fmto_dt_limite` as `DATA_LIMITE`, `fmto_cod_os` as `COD_ORGANIZACAO`, `fmto_cd_estado_entrega` as
            `COD_ESTADO_ENTREGA`, `fmto_cd_tipo_entrega` as `COD_TIPO_ENTREGA` FROM `osinfo_V2`.`tb_fechamento`;
      - interval: 86400
        anchor_date: '2025-07-15T05:10:00'
        timezone: America/Sao_Paulo
        slug: estado_entrega
        parameters:
          table_id: estado_entrega
          dump_mode: overwrite
          execute_query: SELECT `reen_cd_estado_entrega` as `COD_ESTADO`, `reen_ds_estado_entrega` as `ESTADO`, `reen_classe_css_estado_entrega`
            as `ETIQUETA`, `reen_ajuda_estado_entrega` as `DETALHE` FROM `osinfo_V2`.`tb_estado_entrega`;

      - interval: 86400
        anchor_date: '2025-07-15T05:10:00'
        timezone: America/Sao_Paulo
        slug: contrato_processo_instrutivo
        parameters:
          db_type: mysql
          db_database: osinfo
          db_host: 10.70.4.188
          db_port: 3306
          dataset_id: adm_contrato_gestao
          infisical_secret_path: /db-osinfo
          biglake_table: true
          batch_size: 50000
          table_id: contrato_processo_instrutivo
          dump_mode: overwrite
          materialize_after_dump: true
          execute_query: |
            SELECT  `ID_CONTRATO`, `COD_ORGAO`, `PROCESSO_INSTRUTIVO`, `COD_UNIDADE` FROM `osinfo`.`contrato_processo_instrutivo`

      - interval: 86400
        anchor_date: '2025-07-15T05:10:00'
        timezone: America/Sao_Paulo
        slug: bem_patrimoniado
        parameters:
          db_type: mysql
          db_database: osinfo
          db_host: 10.70.4.188
          db_port: 3306
          dataset_id: adm_contrato_gestao
          infisical_secret_path: /db-osinfo
          biglake_table: true
          batch_size: 50000
          table_id: bem_patrimoniado
          dump_mode: overwrite
          materialize_after_dump: true
          execute_query: |
            SELECT
              `ID_BEM`,
              `COD_OS`,
              `ID_CONTRATO`,
              `REF_MES`,
              `REF_ANO`,
              `NUM_CONTROLE`,
              `ID_BEM_TIPO`,
              `DESCRICAO`,
              `QUANTIDADE`,
              `NF`,
              `DATA_AQUISICAO`,
              `VIDA_UTIL`,
              `VALOR`,
              `COD_UNIDADE`,
              `VINCULACAO`,
              `ID_TERMO_ADITIVO`,
              `FORNECEDOR`,
              `CNPJ`,
              `IMG_NF`,
              `SETOR_DESTINO`,
              `ID_IMAGEM`,
              `TIPO_REGISTRO`
            FROM `osinfo`.`bem`;

      - interval: 86400
        anchor_date: '2025-07-15T05:10:00'
        timezone: America/Sao_Paulo
        slug: bem_patrimoniado_tipo
        parameters:
          db_type: mysql
          db_database: osinfo
          db_host: 10.70.4.188
          db_port: 3306
          dataset_id: adm_contrato_gestao
          infisical_secret_path: /db-osinfo
          biglake_table: true
          batch_size: 50000
          table_id: bem_patrimoniado_tipo
          dump_mode: overwrite
          materialize_after_dump: true
          execute_query: |
            SELECT
              `ID_BEM_TIPO`,
              `BEM_TIPO`,
              `FLG_ATIVO`,
              `ORDEM`
            FROM `osinfo`.`bem_tipo`;

      - interval: 86400
        anchor_date: '2025-07-15T05:10:00'
        timezone: America/Sao_Paulo
        slug: contrato_resumo_cronograma
        parameters:
          db_type: mysql
          db_database: osinfo
          db_host: 10.70.4.188
          db_port: 3306
          dataset_id: adm_contrato_gestao
          infisical_secret_path: /db-osinfo
          biglake_table: true
          batch_size: 50000
          table_id: contrato_resumo_cronograma
          dump_mode: overwrite
          materialize_after_dump: true
          execute_query: |
            SELECT
              `ID_CONTRATO_MES`,
              `ID_CONTRATO`,
              `MES`,
              `VALOR`
            FROM `osinfo`.`contrato_mes`;


      - interval: 86400
        anchor_date: '2025-07-15T05:10:00'
        timezone: America/Sao_Paulo
        slug: termo_aditivo
        parameters:
          db_type: mysql
          db_database: osinfo
          db_host: 10.70.4.188
          db_port: 3306
          dataset_id: adm_contrato_gestao
          infisical_secret_path: /db-osinfo
          biglake_table: true
          batch_size: 50000
          table_id: termo_aditivo
          dump_mode: overwrite
          materialize_after_dump: true
          execute_query: |
            SELECT
              `ID_TERMO_ADITIVO`,
              `ID_CONTRATO`,
              `NUM_TERMO_ADITIVO`,
              `COD_OS`,
              `DT_ATUALIZACAO`,
              `OB_TERMO_ADITIVO`,
              `DT_ASSINATURA`,
              `PERIODO_VIGENCIA`,
              `DT_PUBLICACAO`,
              `DT_INICIO`,
              `VLR_INICIAL`,
              `VLR_ALTERADO`,
              `OBSERVACAO`,
              `FLG_ALTERA_VIGENCIA`,
              `FLG_ALTERA_VALOR`,
              `FLG_ALTERA_UNIDADE`
            FROM `osinfo`.`termo_aditivo`;


      - interval: 86400
        anchor_date: '2025-07-15T05:10:00'
        timezone: America/Sao_Paulo
        slug: termo_aditivo_resumo_cronograma
        parameters:
          db_type: mysql
          db_database: osinfo
          db_host: 10.70.4.188
          db_port: 3306
          dataset_id: adm_contrato_gestao
          infisical_secret_path: /db-osinfo
          biglake_table: true
          batch_size: 50000
          table_id: termo_aditivo_resumo_cronograma
          dump_mode: overwrite
          materialize_after_dump: true
          execute_query: |
            SELECT
              `ID_TERMO_ADITIVO_MES`,
              `ID_TERMO_ADITIVO`,
              `MES`,
              `VALOR`
            FROM `osinfo`.`termo_aditivo_mes`;

      - interval: 86400
        anchor_date: '2025-07-15T05:10:00'
        timezone: America/Sao_Paulo
        slug: tipo_entrega
        parameters:
          db_type: mysql
          db_database: osinfo_V2
          db_host: 10.70.4.188
          db_port: 3306
          dataset_id: adm_contrato_gestao
          infisical_secret_path: /db-osinfo
          biglake_table: true
          batch_size: 50000
          table_id: tipo_entrega
          dump_mode: overwrite
          materialize_after_dump: true
          execute_query: |
            SELECT
              `tiet_cd_tipo_entrega`,
              `tiet_ds_tipo_entrega`,
              `tiet_tabela_tipo_entrega`
            FROM `osinfo_V2`.`tb_tipo_entrega`;
